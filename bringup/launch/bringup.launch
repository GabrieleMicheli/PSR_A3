<!-- Launch file to start the robots -->
<launch>

    <!-- Launch file arguments -->
    <arg name="model" default="$(env TURTLEBOT3_MODEL)" doc="model type [burger, waffle, waffle_pi]"/>

    <!-- TODO: have gazebo spawning multiple robots with different colors -->
    <arg name="player_name" default="p_randomName"/>
    <arg name="player_color" default="Red"/>
    <arg name="visualize" default="true"/>
    <arg name="x_pos" default="0.0"/>
    <arg name="y_pos" default="-2.0"/>
    <arg name="z_pos" default="0.0"/>

    <group ns="$(arg player_name)">
        <param name="tf_prefix" value="$(arg player_name)"></param>

        <!-- Loading the robot's xacro from the robot_description parameter -->
        <param name="robot_description" command="$(find xacro)/xacro --inorder $(find description)/urdf/p_randomName.urdf.xacro player_name:=$(arg player_name) player_color:=$(arg player_color)"/>
        <node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher"/>

        <!-- Include spawn.launch file -->
        <include file="$(find bringup)/launch/spawn.launch">
            <arg name="player_name" value="$(arg player_name)"/>
            <arg name="x_pos" value="$(arg x_pos)"/>
            <arg name="y_pos" value="$(arg y_pos)"/>
            <arg name="z_pos" value="$(arg z_pos)"/>
        </include>

        <group if="$(arg visualize)">
            <!-- Include visualize.launch file -->
            <include file="$(find bringup)/launch/visualize.launch">
            </include>
        </group>

<!--        &lt;!&ndash; BEGIN ROBOT 1&ndash;&gt;-->
<!--        <group ns="robot1">-->
<!--            <param name="tf_prefix" value="robot1_tf" />-->
<!--            <include file="$(find multi_robot)/launch/one_robot.launch" >-->
<!--                <arg name="init_pose" value="-x 1 -y 1 -z 0" />-->
<!--                <arg name="robot_name"  value="Robot1" />-->
<!--            </include>-->
<!--        </group>-->


    </group>
</launch>